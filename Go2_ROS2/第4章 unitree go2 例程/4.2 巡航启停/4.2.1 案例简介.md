1. 掌握ROS2中自定义srv接口的流程。客户端，服务端，以及各自调用的API
2. 简介
需求：为了实现机器人的远程巡航控制，开发一个基于ROS2的服务通信程序。该程序允许客户端发送请求标记（1或0）到服务端，服务端根据接收到的标记来控制机器人的巡航状态，并响应机器人的位置信息。
3. 分析
该案例实现基于服务通信，那么需要关注的要素主要有如下三点：

- **服务通信接口**：需要定义请求数据格式与响应数据格式；
    
- **服务通信客户端**：需要按照请求数据格式提交数据并处理响应结果；
    
- **服务通信服务器**：处理请求数据，控制go2巡航，并产生响应结果。
    

在4.1 go2巡航与位置获取一节中，已经实现了基本的巡航功能，服务端实现时，可以考虑复用已有功能。
4. 流程
案例实现前需要先自定义服务接口，接口准备完毕后，主要步骤如下：
-编写服务端实现；
-编写客户端实现；
-编写launch文件与params文件；
-编辑配置文件；
-编译；
-运行与测试。
5. 在src/tutorial 下
`ros2 pkg create go2_tutorial_inter`

接口与配置文件
一、go2_tutorial_inter 下创建 srv 文件夹，并创建 Cruising.srv #首字母必须大写
```
# 请求数据(1/0)
int32 flag
---
# 相应结果
geometry_msgs/Point point
```
二、package.xml
```
<buildtool_depend>ament_cmake</buildtool_depend>
<depend>geometry_msgs</depend>
<build_depend>rosidl_default_generators</build_depend>
<exec_depend>rosidl_default_runtime</exec_depend>
<member_of_group>rosidl_interface_packages</member_of_group>
```
三、CmakeList.txt
```
# find dependencies
find_package(ament_cmake REQUIRED)
find_package(geometry_msgs REQUIRED)

find_package(rosidl_default_generators REQUIRED)

rosidl_generate_interfaces(${PROJECT_NAME}
"srv/Cruising.srv"
DEPENDENCIES "geometry_msgs"
)
```

colcon build --packages-select go2_tutorial_inter
 . install/setup.bash 
 ros2 interface show go2_tutorial_inter/srv/Cruising
 